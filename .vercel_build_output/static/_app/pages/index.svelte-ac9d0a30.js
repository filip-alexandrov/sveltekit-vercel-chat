import{S as ne,i as ue,s as ie,e as d,t as M,c as p,a as b,h as D,d as a,b as u,g as W,J as l,j as ve,K as te,f as re,q as z,o as Y,L as Ie,M as Re,N as oe,O as Ne,P as Ue,Q as Be,k as O,m as A,R as K,n as ce,p as fe,T as he,U as Ce,w as de,x as pe,y as _e,B as me,V as X,W as ke,X as Pe,Y as ye,Z as Le}from"../chunks/vendor-0af294cd.js";import{g as ae,a as se}from"../chunks/firebase-3ad6a565.js";import"../chunks/singletons-d1fb5791.js";function Oe(i){let e,r;return{c(){e=d("div"),r=M(i[0]),this.h()},l(t){e=p(t,"DIV",{class:!0});var n=b(e);r=D(n,i[0]),n.forEach(a),this.h()},h(){u(e,"class","w3-panel w3-pale-red w3-text-red w3-leftbar w3-border-red")},m(t,n){W(t,e,n),l(e,r)},p(t,[n]){n&1&&ve(r,t[0])},i:te,o:te,d(t){t&&a(e)}}}function Ae(i,e,r){let{message:t}=e;return i.$$set=n=>{"message"in n&&r(0,t=n.message)},[t]}class Te extends ne{constructor(e){super();ue(this,e,Ae,Oe,ie,{message:0})}}function Se(i){let e,r,t,n,w,c,o,m,s,f,L,I,k,G,V,y;return{c(){e=d("div"),r=d("h2"),t=M("Logged in"),n=O(),w=d("div"),c=d("p"),o=d("i"),m=O(),s=d("p"),f=M("Logged in"),L=O(),I=d("p"),k=d("button"),G=M("Log out"),this.h()},l(P){e=p(P,"DIV",{class:!0});var v=b(e);r=p(v,"H2",{});var B=b(r);t=D(B,"Logged in"),B.forEach(a),v.forEach(a),n=A(P),w=p(P,"DIV",{class:!0});var S=b(w);c=p(S,"P",{class:!0});var F=b(c);o=p(F,"I",{class:!0}),b(o).forEach(a),F.forEach(a),m=A(S),s=p(S,"P",{class:!0});var R=b(s);f=D(R,"Logged in"),R.forEach(a),L=A(S),I=p(S,"P",{});var h=b(I);k=p(h,"BUTTON",{class:!0,style:!0});var C=b(k);G=D(C,"Log out"),C.forEach(a),h.forEach(a),S.forEach(a),this.h()},h(){u(e,"class","w3-container"),u(o,"class","fas fa-check fa-5x"),u(c,"class","w3-large w3-text-green w3-center"),u(s,"class","w3-center"),u(k,"class","w3-button w3-blue"),re(k,"width","100%"),u(w,"class","w3-container")},m(P,v){W(P,e,v),l(e,r),l(r,t),W(P,n,v),W(P,w,v),l(w,c),l(c,o),l(w,m),l(w,s),l(s,f),l(w,L),l(w,I),l(I,k),l(k,G),V||(y=K(k,"click",i[9]),V=!0)},p:te,i:te,o:te,d(P){P&&a(e),P&&a(n),P&&a(w),V=!1,y()}}}function Me(i){let e,r,t=i[0]==="login"?"Login":"Register",n,w,c,o,m,s,f,L,I,k,G,V,y,P,v,B,S,F,R,h,C,g,N,U,Q;const J=[Ve,De],H=[];function T(_,E){return _[0]==="login"?0:1}return P=T(i),v=H[P]=J[P](i),{c(){e=d("div"),r=d("h2"),n=M(t),w=M(" to Serverless Chat"),c=O(),o=d("div"),m=d("div"),s=d("button"),f=M("LOGIN"),I=O(),k=d("button"),G=M("REGISTER"),y=O(),v.c(),B=O(),S=d("hr"),F=O(),R=d("p"),h=d("button"),C=d("i"),g=M(" Sign in with Google"),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=b(e);r=p(E,"H2",{class:!0});var j=b(r);n=D(j,t),w=D(j," to Serverless Chat"),j.forEach(a),E.forEach(a),c=A(_),o=p(_,"DIV",{class:!0});var q=b(o);m=p(q,"DIV",{class:!0});var Z=b(m);s=p(Z,"BUTTON",{class:!0,style:!0});var $=b(s);f=D($,"LOGIN"),$.forEach(a),I=A(Z),k=p(Z,"BUTTON",{class:!0,style:!0});var le=b(k);G=D(le,"REGISTER"),le.forEach(a),Z.forEach(a),y=A(q),v.l(q),B=A(q),S=p(q,"HR",{}),F=A(q),R=p(q,"P",{});var x=b(R);h=p(x,"BUTTON",{class:!0,style:!0});var ee=b(h);C=p(ee,"I",{class:!0}),b(C).forEach(a),g=D(ee," Sign in with Google"),ee.forEach(a),x.forEach(a),q.forEach(a),this.h()},h(){u(r,"class","w3-center"),u(e,"class","w3-container"),u(s,"class",L="w3-bar-item w3-button w3-text-center "+(i[0]==="login"&&"w3-blue")),re(s,"width","50%"),u(k,"class",V="w3-bar-item w3-button w3-text-center "+(i[0]==="register"&&"w3-blue")),re(k,"width","50%"),u(m,"class","w3-bar w3-center w3-border-bottom w3-border-gray w3-text-dark-gray"),u(C,"class","fab fa-google"),u(h,"class","w3-button w3-blue"),re(h,"width","100%"),u(o,"class","w3-container")},m(_,E){W(_,e,E),l(e,r),l(r,n),l(r,w),W(_,c,E),W(_,o,E),l(o,m),l(m,s),l(s,f),l(m,I),l(m,k),l(k,G),l(o,y),H[P].m(o,null),l(o,B),l(o,S),l(o,F),l(o,R),l(R,h),l(h,C),l(h,g),N=!0,U||(Q=[K(s,"click",i[11]),K(k,"click",i[12]),K(h,"click",i[10])],U=!0)},p(_,E){(!N||E&1)&&t!==(t=_[0]==="login"?"Login":"Register")&&ve(n,t),(!N||E&1&&L!==(L="w3-bar-item w3-button w3-text-center "+(_[0]==="login"&&"w3-blue")))&&u(s,"class",L),(!N||E&1&&V!==(V="w3-bar-item w3-button w3-text-center "+(_[0]==="register"&&"w3-blue")))&&u(k,"class",V);let j=P;P=T(_),P===j?H[P].p(_,E):(ce(),Y(H[j],1,1,()=>{H[j]=null}),fe(),v=H[P],v?v.p(_,E):(v=H[P]=J[P](_),v.c()),z(v,1),v.m(o,B))},i(_){N||(z(v),N=!0)},o(_){Y(v),N=!1},d(_){_&&a(e),_&&a(c),_&&a(o),H[P].d(),U=!1,he(Q)}}}function De(i){let e,r,t,n,w,c,o,m,s,f,L,I,k,G,V,y,P,v,B,S,F,R,h,C,g,N,U,Q,J,H,T=i[6]&&ge(i);return{c(){e=d("form"),T&&T.c(),r=O(),t=d("h4"),n=M("Register"),w=O(),c=d("p"),o=d("label"),m=M("Email"),s=O(),f=d("input"),L=O(),I=d("p"),k=d("label"),G=M("Password"),V=O(),y=d("input"),P=O(),v=d("p"),B=d("label"),S=M("Confirm Password"),F=O(),R=d("input"),h=O(),C=d("p"),g=d("button"),N=M("Register"),this.h()},l(_){e=p(_,"FORM",{});var E=b(e);T&&T.l(E),r=A(E),t=p(E,"H4",{});var j=b(t);n=D(j,"Register"),j.forEach(a),w=A(E),c=p(E,"P",{});var q=b(c);o=p(q,"LABEL",{for:!0});var Z=b(o);m=D(Z,"Email"),Z.forEach(a),s=A(q),f=p(q,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),q.forEach(a),L=A(E),I=p(E,"P",{});var $=b(I);k=p($,"LABEL",{for:!0});var le=b(k);G=D(le,"Password"),le.forEach(a),V=A($),y=p($,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),$.forEach(a),P=A(E),v=p(E,"P",{});var x=b(v);B=p(x,"LABEL",{for:!0});var ee=b(B);S=D(ee,"Confirm Password"),ee.forEach(a),F=A(x),R=p(x,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),x.forEach(a),h=A(E),C=p(E,"P",{});var we=b(C);g=p(we,"BUTTON",{type:!0,class:!0});var be=b(g);N=D(be,"Register"),be.forEach(a),we.forEach(a),E.forEach(a),this.h()},h(){u(o,"for","r-email"),u(f,"type","email"),u(f,"class","w3-input w3-border"),u(f,"placeholder","Enter your email"),u(f,"id","r-email"),u(k,"for","r-password"),u(y,"type","password"),u(y,"class","w3-input w3-border"),u(y,"placeholder","Enter a password"),u(y,"id","r-password"),u(B,"for","r-cpassword"),u(R,"type","password"),u(R,"class","w3-input w3-border"),u(R,"placeholder","Re-enter that password"),u(R,"id","r-cpassword"),u(g,"type","submit"),u(g,"class","w3-button w3-blue")},m(_,E){W(_,e,E),T&&T.m(e,null),l(e,r),l(e,t),l(t,n),l(e,w),l(e,c),l(c,o),l(o,m),l(c,s),l(c,f),X(f,i[1]),l(e,L),l(e,I),l(I,k),l(k,G),l(I,V),l(I,y),X(y,i[2]),l(e,P),l(e,v),l(v,B),l(B,S),l(v,F),l(v,R),X(R,i[3]),l(e,h),l(e,C),l(C,g),l(g,N),Q=!0,J||(H=[K(f,"input",i[15]),K(y,"input",i[16]),K(R,"input",i[17]),K(e,"submit",ke(i[8]))],J=!0)},p(_,E){_[6]?T?(T.p(_,E),E&64&&z(T,1)):(T=ge(_),T.c(),z(T,1),T.m(e,r)):T&&(ce(),Y(T,1,1,()=>{T=null}),fe()),E&2&&f.value!==_[1]&&X(f,_[1]),E&4&&y.value!==_[2]&&X(y,_[2]),E&8&&R.value!==_[3]&&X(R,_[3])},i(_){Q||(z(T),U||Pe(()=>{U=ye(e,Le,{}),U.start()}),Q=!0)},o(_){Y(T),Q=!1},d(_){_&&a(e),T&&T.d(),J=!1,he(H)}}}function Ve(i){let e,r,t,n,w,c,o,m,s,f,L,I,k,G,V,y,P,v,B,S,F,R,h,C,g=i[6]&&Ee(i);return{c(){e=d("form"),g&&g.c(),r=O(),t=d("h4"),n=M("Login"),w=O(),c=d("p"),o=d("label"),m=M("Email"),s=O(),f=d("input"),L=O(),I=d("p"),k=d("label"),G=M("Password"),V=O(),y=d("input"),P=O(),v=d("p"),B=d("button"),S=M("Login"),this.h()},l(N){e=p(N,"FORM",{});var U=b(e);g&&g.l(U),r=A(U),t=p(U,"H4",{});var Q=b(t);n=D(Q,"Login"),Q.forEach(a),w=A(U),c=p(U,"P",{});var J=b(c);o=p(J,"LABEL",{for:!0});var H=b(o);m=D(H,"Email"),H.forEach(a),s=A(J),f=p(J,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),J.forEach(a),L=A(U),I=p(U,"P",{});var T=b(I);k=p(T,"LABEL",{for:!0});var _=b(k);G=D(_,"Password"),_.forEach(a),V=A(T),y=p(T,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0}),T.forEach(a),P=A(U),v=p(U,"P",{});var E=b(v);B=p(E,"BUTTON",{type:!0,class:!0});var j=b(B);S=D(j,"Login"),j.forEach(a),E.forEach(a),U.forEach(a),this.h()},h(){u(o,"for","l-email"),u(f,"type","email"),u(f,"class","w3-input w3-border"),u(f,"placeholder","Enter your email"),u(f,"id","l-email"),u(k,"for","l-password"),u(y,"type","password"),u(y,"class","w3-input w3-border"),u(y,"placeholder","Enter your password"),u(y,"id","l-password"),u(B,"type","submit"),u(B,"class","w3-button w3-blue")},m(N,U){W(N,e,U),g&&g.m(e,null),l(e,r),l(e,t),l(t,n),l(e,w),l(e,c),l(c,o),l(o,m),l(c,s),l(c,f),X(f,i[4]),l(e,L),l(e,I),l(I,k),l(k,G),l(I,V),l(I,y),X(y,i[5]),l(e,P),l(e,v),l(v,B),l(B,S),R=!0,h||(C=[K(f,"input",i[13]),K(y,"input",i[14]),K(e,"submit",ke(i[7]))],h=!0)},p(N,U){N[6]?g?(g.p(N,U),U&64&&z(g,1)):(g=Ee(N),g.c(),z(g,1),g.m(e,r)):g&&(ce(),Y(g,1,1,()=>{g=null}),fe()),U&16&&f.value!==N[4]&&X(f,N[4]),U&32&&y.value!==N[5]&&X(y,N[5])},i(N){R||(z(g),F||Pe(()=>{F=ye(e,Le,{}),F.start()}),R=!0)},o(N){Y(g),R=!1},d(N){N&&a(e),g&&g.d(),h=!1,he(C)}}}function ge(i){let e,r;return e=new Te({props:{message:i[6]}}),{c(){de(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,n){_e(e,t,n),r=!0},p(t,n){const w={};n&64&&(w.message=t[6]),e.$set(w)},i(t){r||(z(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){me(e,t)}}}function Ee(i){let e,r;return e=new Te({props:{message:i[6]}}),{c(){de(e.$$.fragment)},l(t){pe(e.$$.fragment,t)},m(t,n){_e(e,t,n),r=!0},p(t,n){const w={};n&64&&(w.message=t[6]),e.$set(w)},i(t){r||(z(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){me(e,t)}}}function Ge(i){let e,r,t,n;const w=[Me,Se],c=[];function o(m,s){return 0}return r=o(),t=c[r]=w[r](i),{c(){e=d("div"),t.c(),this.h()},l(m){e=p(m,"DIV",{class:!0,style:!0});var s=b(e);t.l(s),s.forEach(a),this.h()},h(){u(e,"class","w3-card-4"),re(e,"width","40%"),re(e,"margin","1rem auto")},m(m,s){W(m,e,s),c[r].m(e,null),n=!0},p(m,[s]){t.p(m,s)},i(m){n||(z(t),n=!0)},o(m){Y(t),n=!1},d(m){m&&a(e),c[r].d()}}}function Fe(i,e,r){Ie(se,h=>{h?(h.uid,ae("/chat")):ae("/")});const t=Re(),n=new oe;let w="",c="",o="",m="yohandentzki@gmail.com",s="000000",{authMode:f="register"}=e,L=null;function I(){if(!m||!s){r(6,L="Fill out all fields!"),r(5,s="");return}r(6,L=""),Ne(se,m,s).then(h=>{t("done"),t("auth"),h.user,r(4,m=""),r(5,s="")}).catch(h=>{const C=h.code,g=h.message;r(5,s=""),r(6,L=`(${C}) ${g}`)})}function k(){if(!w||!c||!o){r(6,L="Fill out all fields!");return}if(c!==o){r(6,L="Passwords don't match!");return}r(6,L=""),Ce(se,w,c).then(h=>{t("done"),t("auth"),r(1,w=""),r(2,c=""),r(3,o="")}).catch(h=>{const C=h.code,g=h.message;r(6,L=`(${C}) ${g}`),r(2,c=""),r(3,o="")})}function G(){Ue(se).then(()=>{t("done"),t("logout")}).catch(h=>{throw new Error(h)})}function V(){Be(se,n).then(h=>{oe.credentialFromResult(h).accessToken,h.user,t("auth"),t("done")}).catch(h=>{const C=h.code,g=h.message;h.email,oe.credentialFromError(h),r(6,L=`(${C}) ${g}`)})}const y=()=>r(0,f="login"),P=()=>r(0,f="register");function v(){m=this.value,r(4,m)}function B(){s=this.value,r(5,s)}function S(){w=this.value,r(1,w)}function F(){c=this.value,r(2,c)}function R(){o=this.value,r(3,o)}return i.$$set=h=>{"authMode"in h&&r(0,f=h.authMode)},[f,w,c,o,m,s,L,I,k,G,V,y,P,v,B,S,F,R]}class He extends ne{constructor(e){super();ue(this,e,Fe,Ge,ie,{authMode:0})}}function We(i){let e,r,t,n,w,c,o,m;return o=new He({}),o.$on("auth",i[0]),{c(){e=d("h1"),r=M("Serverless Chat"),t=O(),n=d("p"),w=M("Please log in"),c=O(),de(o.$$.fragment),this.h()},l(s){e=p(s,"H1",{class:!0});var f=b(e);r=D(f,"Serverless Chat"),f.forEach(a),t=A(s),n=p(s,"P",{class:!0});var L=b(n);w=D(L,"Please log in"),L.forEach(a),c=A(s),pe(o.$$.fragment,s),this.h()},h(){u(e,"class","w3-jumbo w3-center"),u(n,"class","w3-large w3-center")},m(s,f){W(s,e,f),l(e,r),W(s,t,f),W(s,n,f),l(n,w),W(s,c,f),_e(o,s,f),m=!0},p:te,i(s){m||(z(o.$$.fragment,s),m=!0)},o(s){Y(o.$$.fragment,s),m=!1},d(s){s&&a(e),s&&a(t),s&&a(n),s&&a(c),me(o,s)}}}function je(i){return[()=>ae("/chat")]}class Ke extends ne{constructor(e){super();ue(this,e,je,We,ie,{})}}export{Ke as default};
